
`git rebase` یک دستور قدرتمند در Git است که به شما امکان می‌دهد تاریخچه commitها را بازنویسی کنید. این دستور معمولاً برای ادغام تغییرات از یک شاخه (branch) به شاخه دیگر استفاده می‌شود، اما به جای ایجاد یک commit ادغام (merge commit)، commitها را به صورت خطی (linear) در تاریخچه قرار می‌دهد. این کار باعث می‌شود تاریخچه پروژه تمیزتر و قابل فهم‌تر شود.

### **چرا از `git rebase` استفاده می‌کنیم؟**
1. **تاریخچه تمیز و خطی:**  
   با استفاده از `rebase`، commitها به صورت خطی در تاریخچه قرار می‌گیرند و نیازی به commitهای ادغام (merge commits) نیست.
2. **ادغام تغییرات از یک شاخه به شاخه دیگر:**  
   می‌توانید تغییرات یک شاخه را روی شاخه دیگر اعمال کنید.
3. **بازنویسی تاریخچه:**  
   می‌توانید commitها را ویرایش، حذف یا مرتب کنید.

---

### **نحوه استفاده از `git rebase`**

#### ۱. **ادغام تغییرات از یک شاخه به شاخه دیگر**
فرض کنید شما در شاخه `feature` کار می‌کنید و می‌خواهید تغییرات شاخه `main` را به شاخه خود اعمال کنید:

```bash
git checkout feature  # به شاخه feature بروید
git rebase main       # تغییرات main را روی feature اعمال کنید
```

این دستور commitهای شاخه `feature` را بر اساس آخرین commitهای شاخه `main` بازنویسی می‌کند.

---

#### ۲. **حل تعارضات (Conflict Resolution)**
اگر در حین انجام `rebase` تعارضاتی (conflicts) رخ دهد، Git کار را متوقف می‌کند و از شما می‌خواهد تعارضات را حل کنید. پس از حل تعارضات، مراحل زیر را انجام دهید:

```bash
git add <file>  # فایل‌های حل‌شده را به staging area اضافه کنید
git rebase --continue  # ادامه فرآیند rebase
```

اگر می‌خواهید rebase را لغو کنید، از دستور زیر استفاده کنید:

```bash
git rebase --abort
```

---

#### ۳. **بازنویسی تاریخچه commitها**
با استفاده از `git rebase -i` (rebase تعاملی)، می‌توانید commitها را ویرایش، حذف یا مرتب کنید. برای مثال:

```bash
git rebase -i HEAD~3  # آخرین ۳ commit را ویرایش کنید
```

پس از اجرای این دستور، یک ویرایشگر باز می‌شود که می‌توانید اقدامات زیر را انجام دهید:
- **pick**: commit را نگه دارید.
- **edit**: commit را ویرایش کنید.
- **squash**: commit را با commit قبلی ادغام کنید.
- **drop**: commit را حذف کنید.

---

### **تفاوت `git rebase` و `git merge`**
- **`git merge`:**  
  تغییرات دو شاخه را ادغام می‌کند و یک commit ادغام (merge commit) ایجاد می‌کند. این کار تاریخچه را به صورت غیرخطی نگه می‌دارد.
- **`git rebase`:**  
  تغییرات را به صورت خطی اعمال می‌کند و commitهای جدیدی ایجاد می‌کند که تاریخچه را تمیزتر می‌کند.

---

### **مثال عملی**
فرض کنید شما در شاخه `feature` هستید و می‌خواهید تغییرات شاخه `main` را اعمال کنید:

```bash
git checkout feature
git rebase main
```

اگر تعارضی وجود داشته باشد، آن‌ها را حل کنید و سپس ادامه دهید:

```bash
git add <file>
git rebase --continue
```

---

### **نکات مهم**
4. **از `rebase` روی commitهایی که قبلاً به یک remote repository پوش (push) شده‌اند استفاده نکنید.**  
   این کار می‌تواند تاریخچه را برای دیگران به هم بریزد.
5. **اگر مطمئن نیستید، از `git merge` استفاده کنید.**  
   `rebase` یک ابزار پیشرفته است و اگر به درستی استفاده نشود، می‌تواند باعث سردرگمی شود.
6. **همیشه قبل از انجام `rebase` از کار خود backup بگیرید.**  
   می‌توانید از `git stash` یا ایجاد یک شاخه موقت استفاده کنید.

---

با استفاده از `git rebase` می‌توانید تاریخچه پروژه خود را تمیز و سازمان‌یافته نگه دارید، اما باید با دقت از آن استفاده کنید!****